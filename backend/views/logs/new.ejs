<% layout("layouts/cardplate")%>

	<h5 class="card-title mb-3">Insert a new Log</h5>
	<hr>
	<form action="/logs" method="POST" novalidate class="needs-validation">
		<div class="mb-3">
			<label class="form-label" for="date">Date</label>
			<input class="form-control" type="date" name="log[date]" value=<%=date %>
			id="date"
			required
			style="height: 60px;"
			>
		</div>
		<div class="mb-3">
			<label class="form-label" for="worker">Worker</label>
			<select class="form-control" name="log[worker]" id="worker" style="height: 60px;" required>
				<option selected disabled hidden value="">Choose...</option>
				<% for(let worker of workers) {%>
					<option value="<%= worker._id %>">
						<%= worker.name %>
					</option>
					<% } %>
			</select>
			<div class="invalid-feedback">
				Please select a worker.
			</div>
		</div>
		<div class="input-group mb-3">
			<span class="input-group-text">â‚ª</span>
			<div class="form-floating flex-grow-1">
				<input class="form-control" type="number" name="log[payment]" id="payment" placeholder="Log Payment"
					value="0" pattern="[0-9,-]{1}[0-9]{0,7}" required>
				<label class="form-label" for="payment">Payment</label>
			</div>
		</div>
		<div class="form-check">
			<input class="form-check-input" type="checkbox" value="" name="log[isAbsence]" id="isAbsence">
			<label class="form-check-label" for="isAbsence">Absence</label>
		</div>
		<div class="form-floating mb-3">
			<input class="form-control" type="text" name="log[time]" id="time" placeholder="Log Description">
			<label for="time">Time</label>
		</div>
		<div class="form-floating mb-3">
			<input class="form-control" type="text" name="log[overtime]" id="overtime" placeholder="Log Description">
			<label for="overtime">Overtime</label>
		</div>
		<div class="form-floating mb-3">
			<input class="form-control" type="text" name="log[overtimeValue]" id="overtimevalue"
				placeholder="Log Description">
			<label for="overtimeValue">Overtime Value</label>
		</div>
		<div class="form-floating mb-3">
			<textarea class="form-control" name="log[extraNotes]" id="notes" placeholder="Leave any extra notes here"
				style="height: 100px"></textarea>
			<label for="notes">Leave any extra notes here</label>
		</div>
		<div class="mb-3">
			<button class="btn btn-lg btn-success w-100">Submit</button>
		</div>
	</form>
	<a href="/logs" class="btn btn-dark" role="button" aria-pressed="true">Back</a>